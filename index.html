<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Airport Distance Tracker</title>

  <!--styles-->
  <link rel="stylesheet" type="text/css" href="style.css">

  <!--dependencies-->
  <script src="https://code.jquery.com/jquery-2.2.0.js"></script>
  <script src="flights.js"></script>
  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcFexqzniegGeNyWO0q6Z4gM_3J0KaURs"></script>
  <script type="text/javascript" src="jquery.googlemap.js"></script>

  <!-- in-line styling for dropdown-->
  <style>
   select {
    margin: 20px;
    border: 1px solid #111;
    background-color: #F8F8FF;
    width: 150px;
    padding: 5px 35px 5px 5px;
    font-size: 16px;
    border: 1px solid #ccc;
    text-align: center;
    height: 34px;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background: url("images/plane_icon.png") 96% / 15% no-repeat #eee;

  } 
  /*target Internet Explorer 9 and Internet Explorer 10:*/
  @media screen and (min-width:0\0) { 
    select {
      background:none;
      padding: 5px;
    }
  }

</style>

<!--styles-->

</head>
<body>
  <div class="header">

    <div class="for-sticky">
      <!--LOGO-->
      <div class="col-md-2 col-xs-6 logo">
        <a href="index.html"><img alt="logo" class="logo-nav" src="images/aircraft.png"></a>
      </div>
    </div>
  </div>
  
  <div class="container">
    <div class="dropdown-container">
      <select id='departingDestination'>
        <option>JFK</option>
        <option>LAX</option>
        <option>PDX</option>
        <option>LAS</option>
      </select>

      <select id="arrivingDestination">
       <option>JFK</option>
       <option>LAX</option>
       <option>PDX</option>
       <option>LAS</option>
     </select>

  <button class="btn btn--m btn--gray" type="submit" id="buttonSubmit">Get Distance</button>
  <button class="btn btn--m btn--white" type="submit" id="reset">Reset</button>

   </div>


  <div style="overflow-x:auto;">
  <table id="myTable" class="Rtable Rtable--2cols Rtable--collapse">
  <tr>
    <td> <div class="Rtable-cell Rtable-cell--alert">Routes </div></td>
    <td> <div class="Rtable-cell Rtable-cell--highlight">distance</div></td>
    </tr>
    </table>
    </div>

    <div id="map" style="width: 300px; height: 300px;"></div>

  </div>
</div>

<script type="text/javascript">

  $("#buttonSubmit").click( function (e) {
    e.preventDefault();
    var arrivingDestination = ($("#arrivingDestination").val());
    var departingDestination = ($("#departingDestination").val());
    var table = document.getElementById('myTable');
    var row = table.insertRow(1);
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    console.log(departingDestination,arrivingDestination)
    result = IntentMedia.Distances.distance_between_airports(departingDestination,arrivingDestination )
    console.log('======',result);
  var route = departingDestination + " "+ 'to'+ " "+arrivingDestination;

  // $('<div class="chat"/>');
    // cell1 = $('<td> <div class="Rtable-cell Rtable-cell--alert"> </div></td>');
    // cell2 = $('<td> <div class="Rtable-cell Rtable-cell--alert"> </div></td>');


    cell1.innerHTML = route;
    cell2.innerHTML = result;

    // var $Routes = $("<p></p>");
    // var $RoutesDisplay = $('.Rtable-cell--dark');
    // var $distanceResult = $("<div></div>");
    // var $distanceDisplay = $('.Rtable-cell--highlight');

    
    // $Routes.text(route).appendTo($RoutesDisplay)
    // $distanceResult.text(result).appendTo($distanceDisplay)
  });

    //   $("#reset").click( function (e) {
    //     e.preventDefault();
    //     var arrivingDestination = ($("#arrivingDestination").val());
    //     var departingDestination = ($("#departingDestination").val());

    //   console.log(departingDestination,arrivingDestination)
    //   result = IntentMedia.Distances.distance_between_airports(departingDestination,arrivingDestination )
    // console.log('======',result);
    //   });

  $(function() {
     $("#map").googleMap();
 // Map center (optional)
           $("#map").addWay({
                start: "15 avenue des champs Elys√©es 75008 Paris", // Postal address for the start marker (obligatory)
              end:  [48.895651, 2.290569], // Postal Address or GPS coordinates for the end marker (obligatory)
              route : 'way', // Block's ID for the route display (optional)
             
            });
            })
  
  </script>

</body>
</html>